<!-- user-notes.component.html -->
<app-navbar></app-navbar>

<div class="container">
  <h1>Gestione Note</h1>

  <!-- Sezione per visualizzare le note -->
  <div *ngIf="notes.length > 0">
    <h2>Le tue Note</h2>
    <ul class="note-list">
      <li *ngFor="let note of notes" (click)="selectNote(note)" class="note-item">
        <h3>{{ note.title }}</h3>
        <p>{{ note.content }}</p>
        <p><strong>Creato il:</strong> {{ note.createdAt | date:'short' }}</p>
        <p><strong>Ultima modifica:</strong> {{ note.updatedAt | date:'short' }}</p>
      </li>
    </ul>
  </div>
  <div *ngIf="notes.length === 0">
    <p>Nessuna nota disponibile.</p>
  </div>

  <!-- Pulsante per creare una nuova nota -->
  <button mat-button (click)="openCreateNoteDialog()">Crea Nota</button>

  <!-- Pulsante per aggiornare la nota selezionata (mostrato solo se una nota è selezionata) -->
  <button mat-button *ngIf="selectedNote" (click)="openUpdateNoteDialog(selectedNote)">Modifica Nota</button>

  <!-- Pulsante per eliminare la nota selezionata (mostrato solo se una nota è selezionata) -->
  <button mat-button *ngIf="selectedNote" (click)="deleteNote(selectedNote.title)">Elimina Nota</button>

  <button (click)="loadPreviews()">Carica Anteprime</button>
</div>

<app-footer></app-footer>
